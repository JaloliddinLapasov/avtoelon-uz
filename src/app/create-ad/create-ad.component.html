<h1>Yangi E'lon Berish</h1>
    <hr>
    <p>E'loningizni joylashtirish uchun quyidagi formani to'ldiring.</p>

    <form [formGroup]="adForm" (ngSubmit)="onSubmit()" novalidate>

      <!-- Title -->
      <div class="mb-3">
        <label for="title" class="form-label">Sarlavha <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="title" formControlName="title" placeholder="Masalan, Cobalt 2 pozitsiya sotiladi">
        <div *ngIf="f['title'].invalid && (f['title'].dirty || f['title'].touched)" class="text-danger small">
          <span *ngIf="f['title'].errors?.['required']">Sarlavha kiritilishi shart.</span>
          <span *ngIf="f['title'].errors?.['minlength']">Sarlavha kamida 5 belgidan iborat bo'lishi kerak.</span>
        </div>
      </div>

      <!-- Category -->
      <div class="mb-3">
        <label for="category" class="form-label">Kategoriya <span class="text-danger">*</span></label>
        <select class="form-select" id="category" formControlName="category">
          <option value="" disabled>Kategoriyani tanlang</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
         <div *ngIf="f['category'].invalid && (f['category'].dirty || f['category'].touched)" class="text-danger small">
          Kategoriya tanlanishi shart.
        </div>
      </div>

      <!-- Price -->
      <div class="row mb-3">
        <div class="col-md-8">
          <label for="price" class="form-label">Narx <span class="text-danger">*</span></label>
          <input type="text" inputmode="decimal" class="form-control" id="price" formControlName="price" placeholder="Masalan, 12000">
           <div *ngIf="f['price'].invalid && (f['price'].dirty || f['price'].touched)" class="text-danger small">
             <span *ngIf="f['price'].errors?.['required']">Narx kiritilishi shart.</span>
             <span *ngIf="f['price'].errors?.['pattern']">Faqat raqamlar yoki kasr son kiriting (masalan, 12000 yoki 12000.50).</span>
           </div>
        </div>
        <div class="col-md-4">
          <label for="currency" class="form-label">Valyuta <span class="text-danger">*</span></label>
          <select class="form-select" id="currency" formControlName="currency">
            <option *ngFor="let cur of currencies" [value]="cur">{{ cur }}</option>
          </select>
        </div>
      </div>

      <!-- Description -->
      <div class="mb-3">
        <label for="description" class="form-label">Tavsif <span class="text-danger">*</span></label>
        <textarea class="form-control" id="description" rows="5" formControlName="description" placeholder="E'lon haqida batafsil ma'lumot: holati, yurgan masofasi, rangi va boshqalar..."></textarea>
         <div *ngIf="f['description'].invalid && (f['description'].dirty || f['description'].touched)" class="text-danger small">
           <span *ngIf="f['description'].errors?.['required']">Tavsif kiritilishi shart.</span>
           <span *ngIf="f['description'].errors?.['minlength']">Tavsif kamida 20 belgidan iborat bo'lishi kerak.</span>
        </div>
      </div>

       <!-- Location -->
      <div class="mb-3">
        <label for="location" class="form-label">Joylashuv (Shahar/Viloyat) <span class="text-danger">*</span></label>
        <select class="form-select" id="location" formControlName="location">
          <option value="" disabled>Joylashuvni tanlang</option>
          <option *ngFor="let loc of locations" [value]="loc">{{ loc }}</option>
        </select>
         <div *ngIf="f['location'].invalid && (f['location'].dirty || f['location'].touched)" class="text-danger small">
          Joylashuv tanlanishi shart.
        </div>
      </div>

      <!-- Image Upload Placeholder -->
      <div class="mb-3">
        <label for="images" class="form-label">Rasmlar</label>
        <input class="form-control" type="file" id="images" formControlName="images" multiple (change)="onFileChange($event)">
        <div class="form-text">Bir nechta rasm tanlashingiz mumkin. (Hozircha faqat fayl tanlash ishlaydi, yuklash implementatsiya qilinmagan)</div>
      </div>

      <hr>
      <h3>Aloqa Ma'lumotlari</h3>

       <!-- Contact Name -->
      <div class="mb-3">
        <label for="contactName" class="form-label">Ismingiz <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="contactName" formControlName="contactName">
         <div *ngIf="f['contactName'].invalid && (f['contactName'].dirty || f['contactName'].touched)" class="text-danger small">
          Aloqa uchun ism kiritilishi shart.
        </div>
      </div>

       <!-- Contact Phone -->
      <div class="mb-3">
        <label for="contactPhone" class="form-label">Telefon Raqamingiz <span class="text-danger">*</span></label>
        <input type="tel" class="form-control" id="contactPhone" formControlName="contactPhone" placeholder="+998 XX XXX XX XX">
         <div *ngIf="f['contactPhone'].invalid && (f['contactPhone'].dirty || f['contactPhone'].touched)" class="text-danger small">
           <span *ngIf="f['contactPhone'].errors?.['required']">Telefon raqam kiritilishi shart.</span>
           <span *ngIf="f['contactPhone'].errors?.['pattern']">Yaroqli telefon raqam kiriting (masalan, +998901234567 yoki 901234567).</span>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary btn-lg" [disabled]="adForm.invalid">E'lonni Joylashtirish</button>
       <button type="button" class="btn btn-secondary btn-lg ms-2" (click)="adForm.reset({ currency: 'USD' })">Tozalash</button>

    </form>
